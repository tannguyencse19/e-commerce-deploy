{"version":3,"sources":["views/Cart/Checkout/Stripe.jsx"],"names":["CheckoutForm","useElements","useStripe","React","useState","isProcess","setIsProcess","isSucceed","setIsSucceed","handleSubmit","e","a","mx","my","p","boxShadow","colorScheme","onClick","isLoading","Stripe","clientSecret","setClientSecret","useEffect","fetch","method","headers","body","JSON","stringify","items","id","then","res","json","data","console","log","options","appearance","theme","action","type","stripe","loadStripe"],"mappings":"kNAyDMA,EAAe,WACFC,wBACFC,sBADf,IADyB,EAGSC,IAAMC,UAAS,GAHxB,mBAGlBC,EAHkB,KAGPC,EAHO,OAISH,IAAMC,UAAS,GAJxB,mBAIlBG,EAJkB,KAIPC,EAJO,KAMnBC,EAAY,uCAAG,WAAOC,GAAP,SAAAC,EAAA,sDACnBL,GAAa,GACbE,GAAa,GAFM,2CAAH,sDAUlB,OACE,eAAC,IAAD,CAAKI,GAAG,KAAKC,GAAG,KAAKC,EAAE,KAAKC,UAAU,KAAtC,UACE,cAAC,iBAAD,IACA,8DACA,cAAC,IAAD,CACEC,YAAY,WACZC,QAASR,EACTS,UAAWb,EAHb,iBAOCE,GAAa,uEAKLY,UA5EA,WAAO,IAAD,EACqBhB,IAAMC,SAAS,IADpC,mBACZgB,EADY,KACEC,EADF,KAGnBlB,IAAMmB,WAAU,WAEdC,MAAM,8CAA+C,CACnDC,OAAQ,OACRC,QAAS,CAAE,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAU,CAAEC,MAAO,CAAC,CAAEC,GAAI,kBAEpCC,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBF,MAAK,SAACG,GACLC,QAAQC,IAAIF,GACZb,EAAgBa,EAAKd,mBAExB,IAEH,IAGMiB,EAAU,CACdjB,eACAkB,WALiB,CACjBC,MAAO,UAOT,OACE,qCACE,sBACEC,OAAO,gDACPhB,OAAO,OAFT,SAIE,cAAC,IAAD,CAAQiB,KAAK,SAASzB,YAAY,OAAlC,wBAIDI,GACC,cAAC,WAAD,CAAUiB,QAASA,EAASK,OAAQC,YAtC1C,+GAsCM,SACE,cAAC3C,EAAD","file":"static/js/17.0df92283.chunk.js","sourcesContent":["import React from \"react\";\nimport {\n  Elements,\n  PaymentElement,\n  useElements,\n  useStripe,\n} from \"@stripe/react-stripe-js\";\nimport { loadStripe } from \"@stripe/stripe-js\";\nimport { Box, Button } from \"@chakra-ui/react\";\n\nconst STRIPE_API_TEST_KEY =\n  \"pk_test_51JwOnqCfzSDSrzbXmzkPjCFFaRbzqwsegiWaEj3QuiXavo4u2nsBQUqRcypKtRJ0DUlvL93MP5hQI6xCdw7fLOwK00OGQELNfB\";\n\nconst Stripe = () => {\n  const [clientSecret, setClientSecret] = React.useState(\"\");\n\n  React.useEffect(() => {\n    // Create PaymentIntent as soon as the page loads\n    fetch(\"http://localhost:4000/create-payment-intent\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ items: [{ id: \"xl-tshirt\" }] }),\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        console.log(data);\n        setClientSecret(data.clientSecret);\n      });\n  }, []);\n\n  const appearance = {\n    theme: \"night\",\n  };\n  const options = {\n    clientSecret,\n    appearance,\n  };\n\n  return (\n    <>\n      <form\n        action=\"http://localhost:4000/create-checkout-session\"\n        method=\"post\"\n      >\n        <Button type=\"submit\" colorScheme=\"teal\">\n          Checkout\n        </Button>\n      </form>\n      {clientSecret && (\n        <Elements options={options} stripe={loadStripe(STRIPE_API_TEST_KEY)}>\n          <CheckoutForm />\n        </Elements>\n      )}\n    </>\n  );\n};\n\nconst CheckoutForm = () => {\n  const elements = useElements();\n  const stripe = useStripe();\n  const [isProcess, setIsProcess] = React.useState(false);\n  const [isSucceed, setIsSucceed] = React.useState(false);\n\n  const handleSubmit = async (e) => {\n    setIsProcess(true);\n    setIsSucceed(false);\n\n    try {\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  return (\n    <Box mx=\"72\" my=\"20\" p=\"10\" boxShadow=\"md\">\n      <PaymentElement />\n      <p>4242 4242 4242 4242 4/24 2424</p>\n      <Button\n        colorScheme=\"facebook\"\n        onClick={handleSubmit}\n        isLoading={isProcess}\n      >\n        Pay\n      </Button>\n      {isSucceed && <h1>Your transaction has been proceed</h1>}\n    </Box>\n  );\n};\n\nexport default Stripe;\n"],"sourceRoot":""}